import{m as l}from"./vuex.cc7cb26e.js";import{n as d}from"./app.a64317f3.js";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-detail"},[a("div",{staticClass:"report-title"},[t._v(" "+t._s(t.data.title)+" "),t.loadIng>0?a("Icon",{staticClass:"icon-loading",attrs:{type:"ios-loading"}}):t._e()],1),a("div",{staticClass:"report-detail-context"},[a("ul",[a("li",[a("div",{staticClass:"report-label"},[t._v(" "+t._s(t.$L("\u6C47\u62A5\u4EBA"))+" ")]),a("div",{staticClass:"report-value"},[a("UserAvatar",{attrs:{userid:t.data.userid,size:28}})],1)]),a("li",[a("div",{staticClass:"report-label"},[t._v(" "+t._s(t.$L("\u63D0\u4EA4\u65F6\u95F4"))+" ")]),a("div",{staticClass:"report-value"},[t._v(" "+t._s(t.data.created_at)+" ")])]),a("li",[a("div",{staticClass:"report-label"},[t._v(" "+t._s(t.$L("\u6C47\u62A5\u5BF9\u8C61"))+" ")]),a("div",{staticClass:"report-value"},[t.data.receives_user.length===0?[t._v("-")]:t._l(t.data.receives_user,function(r,i){return a("UserAvatar",{key:i,attrs:{userid:r.userid,size:28}})})],2)]),t.data.report_link?a("li",{attrs:{title:t.$L("\u5206\u4EAB\u65F6\u95F4")+"\uFF1A"+t.data.report_link.created_at}},[a("div",{staticClass:"report-label"},[t._v(" "+t._s(t.$L("\u5206\u4EAB\u4EBA"))+" ")]),a("div",{staticClass:"report-value"},[a("UserAvatar",{attrs:{userid:t.data.report_link.userid,size:28}})],1)]):t._e()]),a("div",{staticClass:"report-content",domProps:{innerHTML:t._s(t.data.content)}})])])},n=[];const c={name:"ReportDetail",props:{data:{default:{}},type:{default:"view"}},data(){return{loadIng:0}},computed:{...l(["formOptions"])},watch:{"data.id":{handler(t){t>0&&this.type==="view"&&this.sendRead()},immediate:!0}},methods:{sendRead(){this.loadIng++,this.$store.dispatch("call",{url:"report/read",data:{ids:[this.data.id]}}).then(()=>{}).catch(()=>{}).finally(t=>{this.loadIng--})}}},s={};var _=d(c,o,n,!1,v,null,null,null);function v(t){for(let e in s)this[e]=s[e]}var m=function(){return _.exports}();export{m as R};
